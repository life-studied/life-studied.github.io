<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>00 数据结构查询表 | Yunyin&#39;s blog</title>
  
    <link rel="icon" href="/assert/C++.jpg">
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url(/assets/background.jpg)">
        <div class='av-pic' style="background-image: url(/assets/C++.jpg)">
        </div>
    </section>
    <section class='menu'>
        <div>Yunyin&#39;s blog</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>00 数据结构查询表</h1>
    </header>

    <section>
      <h1>数据结构查询表</h1>
<h2 id="AVFormatContext">AVFormatContext</h2>
<p><code>AVFormatContext</code> 是处理多媒体文件的核心结构体，包含了多媒体文件的封装格式信息。</p>
<span id="more"></span>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>ic-&gt;iformat</code>: 当前使用的输入格式上下文，指向 <code>AVInputFormat</code>。</li>
<li class="lvl-4"><code>ic-&gt;streams</code>: 媒体文件中所有流的数组。</li>
<li class="lvl-4"><code>ic-&gt;nb_streams</code>: 媒体文件中流的数量。</li>
<li class="lvl-4"><code>ic-&gt;duration</code>: 媒体文件的总时长（微秒为单位）。</li>
<li class="lvl-4"><code>ic-&gt;bit_rate</code>: 媒体文件的总比特率。</li>
<li class="lvl-4"><code>ic-&gt;start_time</code>: 文件的起始时间（微秒为单位）。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">管理多媒体文件的封装格式，如 MP4、MKV 等。</li>
<li class="lvl-4">存储关于整个多媒体文件的元数据。</li>
<li class="lvl-4">作为访问和操作媒体文件中流的入口。</li>
</ul>
</li>
</ul>
<h2 id="AVInputFormat-demuxer">AVInputFormat / demuxer</h2>
<p><code>AVInputFormat</code> 是与特定封装格式相关的结构体，定义了如何解析和处理该格式的多媒体文件。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>iformat-&gt;name</code>: 封装格式的名称。</li>
<li class="lvl-4"><code>iformat-&gt;long_name</code>: 封装格式的详细描述。</li>
<li class="lvl-4"><code>iformat-&gt;read_probe</code>: 用于探测文件是否属于该格式的函数。</li>
<li class="lvl-4"><code>iformat-&gt;read_header</code>: 读取文件头部信息的函数。</li>
<li class="lvl-4"><code>iformat-&gt;read_packet</code>: 从文件中读取数据包的函数。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">定义了特定封装格式的识别、探测和读取方式。</li>
<li class="lvl-4">作为解复用器，将多媒体文件中的数据分离成独立的流。</li>
</ul>
</li>
</ul>
<h2 id="AVOutputFormat-muxer">AVOutputFormat / muxer</h2>
<p><code>AVOutputFormat</code> 是与特定封装格式相关的结构体，用于将多个流封装成文件。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>oformat-&gt;name</code>: 输出格式的名称。</li>
<li class="lvl-4"><code>oformat-&gt;mux</code>: 用于将数据写入文件的函数。</li>
<li class="lvl-4"><code>oformat-&gt;write_header</code>: 写入文件头部信息的函数。</li>
<li class="lvl-4"><code>oformat-&gt;write_packet</code>: 写入单个数据包的函数。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">定义了如何将多个流封装成特定格式的文件。</li>
<li class="lvl-4">作为复用器，管理数据的写入过程。</li>
</ul>
</li>
</ul>
<h2 id="AVStream">AVStream</h2>
<p><code>AVStream</code> 表示多媒体文件中的单个流（视频、音频或字幕）。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>st-&gt;codecpar</code>: 指向 <code>AVCodecParameters</code> 的指针，包含流的编解码参数。</li>
<li class="lvl-4"><code>st-&gt;time_base</code>: 流的时间基准，用于时间戳的转换。</li>
<li class="lvl-4"><code>st-&gt;duration</code>: 流的持续时间。</li>
<li class="lvl-4"><code>st-&gt;start_time</code>: 流中第一个帧的起始时间。</li>
<li class="lvl-4"><code>st-&gt;bit_rate</code>: 流的比特率。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">存储和管理单个流的元数据和参数。</li>
<li class="lvl-4">作为访问和操作单个流的入口。</li>
</ul>
</li>
</ul>
<h2 id="AVCodecParameters">AVCodecParameters</h2>
<p><code>AVCodecParameters</code> 结构体用于保存音视频流的基本参数信息，是描述流的编解码参数的关键结构。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>codecpar-&gt;codec_type</code>: 编解码器类型，标识流是视频、音频或字幕。</li>
<li class="lvl-4"><code>codecpar-&gt;codec_id</code>: 编解码器的 ID，用于唯一确定使用的编解码器。</li>
<li class="lvl-4"><code>codecpar-&gt;codec_tag</code>: 编解码器标签，通常在容器中用于标识流的编解码器。</li>
<li class="lvl-4"><code>codecpar-&gt;extradata</code>: 指向额外数据的指针，一些编解码器需要额外初始化数据。</li>
<li class="lvl-4"><code>codecpar-&gt;extradata_size</code>: <code>extradata</code> 所占用的字节数。</li>
<li class="lvl-4"><code>codecpar-&gt;format</code>: 音视频帧的像素或采样格式，视频的像素格式或音频的样本格式。</li>
<li class="lvl-4"><code>codecpar-&gt;bit_rate</code>: 流的比特率，表示流的数据速率。</li>
<li class="lvl-4"><code>codecpar-&gt;bits_per_coded_sample</code>: 编码样本的位数。</li>
<li class="lvl-4"><code>codecpar-&gt;bits_per_raw_sample</code>: 原始样本的位数。</li>
<li class="lvl-4"><code>codecpar-&gt;profile</code>: 编解码器的配置文件，描述编解码器的性能和特性。</li>
<li class="lvl-4"><code>codecpar-&gt;level</code>: 编解码器的级别，通常与编解码器的编码效率相关。</li>
<li class="lvl-4"><code>codecpar-&gt;width/height</code>: 视频流的帧宽度和高度。</li>
<li class="lvl-4"><code>codecpar-&gt;sample_rate</code>: 音频流的采样率。</li>
<li class="lvl-4"><code>codecpar-&gt;channels</code>: 音频流的声道数。</li>
<li class="lvl-4"><code>codecpar-&gt;sample_fmt</code>: 音频流的样本格式。</li>
<li class="lvl-4"><code>codecpar-&gt;channel_layout</code>: 音频流的声道布局。</li>
<li class="lvl-4"><code>codecpar-&gt;sample_aspect_ratio</code>: 视频流的样本宽高比。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">提供了流的编解码参数，这些参数对于解码器的初始化和流的正确处理至关重要。</li>
<li class="lvl-4">允许 FFmpeg 的不同组件，如解封装器和解码器，共享和传递关于流的必要信息。</li>
</ul>
</li>
</ul>
<h2 id="AVCodecContext">AVCodecContext</h2>
<p><code>AVCodecContext</code> 包含编解码器的上下文信息，是编解码过程中的核心结构。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>codec_ctx-&gt;codec_type</code>: 编解码器的类型，如 <code>AVMEDIA_TYPE_VIDEO</code>。</li>
<li class="lvl-4"><code>codec_ctx-&gt;codec_id</code>: 编解码器的唯一标识符。</li>
<li class="lvl-4"><code>codec_ctx-&gt;bit_rate</code>: 编码流的比特率。</li>
<li class="lvl-4"><code>codec_ctx-&gt;width</code> 和 <code>codec_ctx-&gt;height</code>: 视频的宽度和高度。</li>
<li class="lvl-4"><code>codec_ctx-&gt;pix_fmt</code>: 视频的像素格式。</li>
<li class="lvl-4"><code>codec_ctx-&gt;sample_fmt</code>: 音频的样本格式。</li>
<li class="lvl-4"><code>codec_ctx-&gt;channel_layout</code>: 音频的声道布局。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">存储编解码器所需的配置参数。</li>
<li class="lvl-4">作为编解码器工作时的上下文环境。</li>
</ul>
</li>
</ul>
<h2 id="AVCodec">AVCodec</h2>
<p><code>AVCodec</code> 定义了特定编解码器的特性和功能。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>codec-&gt;name</code>: 编解码器的名称。</li>
<li class="lvl-4"><code>codec-&gt;long_name</code>: 编解码器的详细描述。</li>
<li class="lvl-4"><code>codec-&gt;type</code>: 编解码器的类型，如 <code>AVMEDIA_TYPE_VIDEO</code>。</li>
<li class="lvl-4"><code>codec-&gt;id</code>: 编解码器的唯一标识符。</li>
<li class="lvl-4"><code>codec-&gt;encode2</code> 和 <code>codec-&gt;decode</code>: 编解码函数的指针。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">表示特定的编解码器，提供编解码功能的接口。</li>
</ul>
</li>
</ul>
<h2 id="AVPacket">AVPacket</h2>
<p><code>AVPacket</code> 用于存储编码后的数据包，包括视频帧、音频样本等。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>pkt-&gt;stream_index</code>: 数据包所属的流索引。</li>
<li class="lvl-4"><code>pkt-&gt;pts</code>, <code>pkt-&gt;dts</code>: 数据包的解码时间戳和显示时间戳。</li>
<li class="lvl-4"><code>pkt-&gt;data</code>: 数据包的数据缓冲区。</li>
<li class="lvl-4"><code>pkt-&gt;size</code>: 数据缓冲区的大小。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">封装编码后的数据，用于在解码器和解复用器之间传输。</li>
</ul>
</li>
</ul>
<h2 id="AVFrame">AVFrame</h2>
<p><code>AVFrame</code> 存储解码后的帧数据，包括像素信息或音频样本。</p>
<ul class="lvl-0">
<li class="lvl-2">
<p><strong>成员</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4"><code>frame-&gt;width</code> 和 <code>frame-&gt;height</code>: 视频帧的宽度和高度。</li>
<li class="lvl-4"><code>frame-&gt;format</code>: 视频帧的像素格式或音频帧的样本格式。</li>
<li class="lvl-4"><code>frame-&gt;data</code>: 指向帧数据的指针数组。</li>
<li class="lvl-4"><code>frame-&gt;linesize</code>: 每行数据的字节数。</li>
<li class="lvl-4"><code>frame-&gt;pts</code>: 帧的呈现时间戳。</li>
</ul>
</li>
<li class="lvl-2">
<p><strong>作用</strong>:</p>
<ul class="lvl-2">
<li class="lvl-4">存储解码后的多媒体数据，供进一步处理或显示。</li>
</ul>
</li>
</ul>


      

    </section>
    
      <section class='ArticleMeta'>
          <div>
            发布于&nbsp;
            <time datetime="2024-11-15T16:00:00.000Z" itemprop="datePublished">
              2024-11-16
            </time>
          </div>
          
      </section>
    
    
      <section>
        <div id="disqus_thread"></div>
        <script>
          window.disqus_config = function () {
            this.page.url = window.location.toString()
            this.page.identifier = window.location.pathname
          }
          if (typeof DISQUS === 'undefined') {
            (function() { // DON'T EDIT BELOW THIS LINE
              var d = document, s = d.createElement('script');
              s.src = 'https://YunyinBlog.disqus.com/embed.js';
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
            })();
          } else {
            DISQUS.reset({
                reload: true,
                config: window.disqus_config
            })
          }
        </script>
      </section>
    
</article>

  
</div>

            <footer>
    <div>© 2024 - Yunyin </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>